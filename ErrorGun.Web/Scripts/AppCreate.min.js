"use strict";var ErrorGun;(function(n){(function(t){var i=function(){function t(){var t=this;this.Id=ko.observable(""),this.ApiKey=ko.observable(""),this.CreatedTimestampUtc=ko.observable(""),this.Name=ko.observable(""),this.NewContactEmail=ko.observable(""),this.ContactEmails=ko.observableArray([]),this.ErrorMessage=ko.observable(""),this.Create=function(){var i=$("#registerButton"),r;i.attr("disabled",!0),r=ko.toJSON(t),$.ajax({url:"/api/apps",type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:r}).fail(function(r){var u="",f;try{f=JSON.parse(r.responseText),u=n.ErrorCodes.GetErrorMessages(f.ErrorCodes)}catch(e){u="An unexpected server error occurred."}t.ErrorMessage(u),i.removeAttr("disabled")}).done(function(n){$("input").attr("disabled",!0),t.ErrorMessage(""),t.ApiKey(n.ApiKey),t.Id(n.Id)})},this.AddContactEmail=function(){var n=t.NewContactEmail();n&&(t.ContactEmails.push(t.NewContactEmail()),t.NewContactEmail(""),$("#emailAddress").focus())},this.AddContactEmailOnEnter=function(n,i){var r=i.which?i.which:i.keyCode;return r===13?(t.AddContactEmail(),!1):!0},this.RemoveContactEmail=function(n){t.ContactEmails.remove(n),t.NewContactEmail(n),$("#emailAddress").focus()},this.toJSON=function(){return{Name:t.Name(),ContactEmails:t.ContactEmails()}}}return t}();t.ViewModel=i})(n.AppCreate||(n.AppCreate={}));var t=n.AppCreate})(ErrorGun||(ErrorGun={}))