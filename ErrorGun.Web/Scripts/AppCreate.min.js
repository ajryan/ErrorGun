"use strict";var ErrorGun;(function(n){(function(t){var i=function(){function t(t){var i=this;this.Id=ko.observable(""),this.ApiKey=ko.observable(""),this.CreatedTimestampUtc=ko.observable(""),this.Name=ko.observable(""),this.ContactEmails=ko.observableArray([{Address:ko.observable(""),Focused:!1}]),this.ErrorMessage=ko.observable(""),this._completeUrl=t,this.Create=function(){var t=$("#registerButton"),r;i.ErrorMessage(""),t.attr("disabled",!0),r=ko.toJSON(i),$.ajax({url:"/api/apps",type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",data:r}).fail(function(r){var u="",e,f;try{e=JSON.parse(r.responseText),f=[],$.each(e.ErrorCodes,function(t,i){f.push(n.ErrorCodes.MessageMap[i])}),u=f.join("\n")}catch(o){u="An unexpected server error occurred."}i.ErrorMessage(u),t.removeAttr("disabled")}).done(function(n){$("input").attr("disabled",!0),i.ApiKey(n.ApiKey),i.Id(n.Id)})},this.AddContactEmail=function(){var n=i.ContactEmails().length;if(i.ContactEmails()[n-1].Address()==="")return!1;i.ContactEmails.push({Address:ko.observable(""),Focused:!0})},this.RemoveContactEmail=function(n){i.ContactEmails().length>1&&i.ContactEmails.remove(n)},this.toJSON=function(){return{Name:i.Name(),ContactEmails:ko.utils.arrayMap(i.ContactEmails(),function(n){return n.Address()})}}}return t}();t.ViewModel=i})(n.AppCreate||(n.AppCreate={}));var t=n.AppCreate})(ErrorGun||(ErrorGun={}))